<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>{% block title %}The title{% endblock %}</title>
    <link rel="stylesheet" href="style.css" />
    <!-- temporary, put in style.css later -->
    <style>
        body
        {
            font-family: Verdana;
            background-color: #ffffff;
            border: 0;
            margin: 0;
        }
        #content
        {
            margin: 10px;
            width: 40em;
        }
        ul.menu
        {
            list-style-type: none;
        }
        ul.menu li
        {
            display: inline;
        }
        .opinion .title
        {
            color: #333333;
            padding: 8px 4px 4px 4px;
            margin: 2px;
        }
        .opinion .title a
        {
            color: #333333;
            text-decoration: none;
        }
        .opinion
        {
            padding-bottom: 3px;
        }
        .user_opinion
        {
            font-size: 10px;
            margin-bottom: 15px;
        }
        .opinion.highlight
        {
            background-color: #f8f8ff;
        }
        .category_element
        {
            font-size: 11px;
            color: #aaaaaa;
        }
        .rating, .rating_small
        {
            float: left;
            text-align: center;
            cursor: default;
            font-weight: bold;
        }
        .rating_small
        {
            width: 16px;
            height: 16px;
            font-size: 10px;
            padding: 0 0 0 0;
            line-height: 15px;
        }
        .rating
        {
            padding: 0 0 0 0;
            margin: 5px 8px 5px 5px;
            width: 30px;
            height: 30px;
            line-height: 27px;
        }
        .rating1
        {
            background-color: #f02000;
            color: #ffffff;
        }
        .rating2
        {
            background-color: #ffcc00;
            color: #ffffff;
        }
        .rating3
        {
            background-color: #fff600;
            color: #ffffff;
        }
        .rating4
        {
            background-color: #88f000;
            color: #ffffff;
        }
        .rating5
        {
            background-color: #00a020;
            color: #ffffff;
        }
        /*.rating1.rate
        {
            background-color: #fec0c0;
        }
        .rating2.rate
        {
            background-color: #fceec0;
        }
        .rating3.rate
        {
            background-color: #fcfacd;
        }
        .rating4.rate
        {
            background-color: #eefcc0;
        }
        .rating5.rate
        {
            background-color: #c0e8c8;
        }*/
        .rating_label
        {
            float: left;
            margin-right: 5px;
        }
        .rate.rating_small
        {
            opacity: 0.15;
        }
        .rated.rating_small
        {
            opacity: 1.0;
        }
        .your_opinion
        {
            display: inline;
        }
        .highlight .your_opinion
        {
            display: none;
        }
        .user_rate
        {
            display: none;
        }
        .highlight .user_rate
        {
            display: inline;
        }
    </style>

<script type="text/javascript" src="http://code.jquery.com/jquery-1.4.2.js"></script>
<script type="text/javascript">
(function($) {
  $.fn.disableTextSelect = function() {
      return this.each(function(){
        if($.browser.mozilla){//Firefox
          $(this).css("MozUserSelect","none");
        }else if($.browser.msie){//IE
          $(this).bind("selectstart",function(){return false;});
        }else{//Opera, etc.
          $(this).mousedown(function(){return false;});
        }
      });
  }
  $(function($){
      $(".rating,.rating_small").disableTextSelect();
  });
})(jQuery); 
$(document).ready(function(){
    $(".opinion").hover(
        function(e){
            $(this).addClass('highlight')
        },
        function(e){
            $(this).removeClass('highlight')
        }
    );
    $(".user_rate .rating_small").hover(
        function(e){
            $(this).removeClass('rate')
        },
        function(e){
            $(this).addClass('rate')
        }
    );
    $(".user_rate .rating_small").click(function(e){
        if ($(this).hasClass("rated"))
        {
            return false;
        }
        item_id = $(this).parents(".user_opinion").attr("item")
        rating = $(this).html()
        $.getJSON("/opinion/set/"+item_id+"/"+rating)
        $(this).siblings().removeClass("rated")
        $(this).addClass("rated")
        yr = $("#yr_"+item_id)
        yr.removeClass("rating1 rating2 rating3 rating4 rating5")
        yr.addClass("rating"+rating)
        yr.html(rating)
    });
});
</script>
</head>
<body>
    <div id="logo">
        Logo
    </div>
    <div id="navbar">
        Temporary menu
        <ul class="menu">
            <li> <a href="/">index</a>
            <li> <a href="{% url account.views.signup %}">signup</a>
            <li> <a href="{% url django.contrib.auth.views.login %}">login</a>
            <li> <a href="{% url django.contrib.auth.views.logout %}">logout</a>
            <li> <a href="{% url account.views.preferences %}">preferences</a>
            <li> <a href="{% url users.views.similar %}">similar users</a>
            <li> <a href="{% url main.views.recommend %}">things you might like</a>
            {% if user %}
            <li> <a href="{% url users.views.overview user.username %}">your profile</a>
            {% endif %}
            <li> <form action="{% url search.views.query %}"><input type='text' name='q' value='Search...' onClick='this.value=""'></form>
        </ul>
    </div>

    <div id="content">
        {% block content %}{% endblock %}
    </div>
</body>
</html>
